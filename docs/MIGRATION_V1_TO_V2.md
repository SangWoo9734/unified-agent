# v1.0 â†’ v2.0 ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ

**ì‘ì„±ì¼**: 2026-01-13
**ëŒ€ìƒ**: unified-agent v1.0 ì‚¬ìš©ì

---

## ğŸ“‹ ëª©ì°¨

1. [v2.0ì˜ ë³€ê²½ì‚¬í•­](#v20ì˜-ë³€ê²½ì‚¬í•­)
2. [ë§ˆì´ê·¸ë ˆì´ì…˜ì´ í•„ìš”í•œ ì´ìœ ](#ë§ˆì´ê·¸ë ˆì´ì…˜ì´-í•„ìš”í•œ-ì´ìœ )
3. [ë§ˆì´ê·¸ë ˆì´ì…˜ ë‹¨ê³„](#ë§ˆì´ê·¸ë ˆì´ì…˜-ë‹¨ê³„)
4. [í…ŒìŠ¤íŠ¸ ë°©ë²•](#í…ŒìŠ¤íŠ¸-ë°©ë²•)
5. [ë¬¸ì œ í•´ê²°](#ë¬¸ì œ-í•´ê²°)
6. [ë¡¤ë°± ë°©ë²•](#ë¡¤ë°±-ë°©ë²•)

---

## v2.0ì˜ ë³€ê²½ì‚¬í•­

### í•µì‹¬ ë³€ê²½ì‚¬í•­

| í•­ëª© | v1.0 | v2.0 |
|------|------|------|
| ì•„í‚¤í…ì²˜ | ì§ì ‘ PR ìƒì„± | Repository Dispatch |
| í”„ë¡œë•íŠ¸ Clone | í•„ìˆ˜ (2ë¶„/í”„ë¡œë•íŠ¸) | ë¶ˆí•„ìš” (0ì´ˆ) |
| PR ìƒì„± ìœ„ì¹˜ | unified-agent | ê° í”„ë¡œë•íŠ¸ |
| í™•ì¥ì„± | ì œí•œì  (clone ë³‘ëª©) | ë¬´í•œ (Dispatch ê¸°ë°˜) |
| í”„ë¡œë•íŠ¸ ë…ë¦½ì„± | ë‚®ìŒ | ë†’ìŒ |

### ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸

**unified-agent:**
- `core/dispatchers/repository_dispatcher.py`: Dispatch ì´ë²¤íŠ¸ ì „ì†¡
- `core/level2_agent_v2.py`: v2.0 ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
- `.github/workflows/seo-agent-v2.yml`: v2.0 ì›Œí¬í”Œë¡œìš°

**ê° í”„ë¡œë•íŠ¸:**
- `.github/workflows/seo-pr.yml`: repository_dispatch ìˆ˜ì‹  ì›Œí¬í”Œë¡œìš°
- `scripts/apply_seo_actions.py`: ì•¡ì…˜ ì ìš© ìŠ¤í¬ë¦½íŠ¸

---

## ë§ˆì´ê·¸ë ˆì´ì…˜ì´ í•„ìš”í•œ ì´ìœ 

### v1.0ì˜ í•œê³„

```
unified-agent ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ì‹œê°„:
- í”„ë¡œë•íŠ¸ 2ê°œ: ê¸°ë³¸ 2ë¶„ + clone 4ë¶„ = 6ë¶„
- í”„ë¡œë•íŠ¸ 5ê°œ: ê¸°ë³¸ 2ë¶„ + clone 10ë¶„ = 12ë¶„
- í”„ë¡œë•íŠ¸ 10ê°œ: ê¸°ë³¸ 2ë¶„ + clone 20ë¶„ = 22ë¶„ âŒ
```

**ë¬¸ì œì :**
1. âŒ í”„ë¡œë•íŠ¸ ì¦ê°€ ì‹œ ì‹œê°„ ì„ í˜• ì¦ê°€
2. âŒ ëª¨ë“  í”„ë¡œë•íŠ¸ clone í•„ìš” (ë¶ˆí•„ìš”í•œ íŒŒì¼ í¬í•¨)
3. âŒ unified-agentê°€ ëª¨ë“  í”„ë¡œë•íŠ¸ ì ‘ê·¼ ê¶Œí•œ í•„ìš”
4. âŒ í”„ë¡œë•íŠ¸ë³„ ì»¤ìŠ¤í„°ë§ˆì´ì§• ì–´ë ¤ì›€

### v2.0ì˜ ì¥ì 

```
unified-agent ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ì‹œê°„:
- í”„ë¡œë•íŠ¸ 2ê°œ: 2ë¶„ (clone 0ì´ˆ) âœ…
- í”„ë¡œë•íŠ¸ 5ê°œ: 2ë¶„ (clone 0ì´ˆ) âœ…
- í”„ë¡œë•íŠ¸ 10ê°œ: 2ë¶„ (clone 0ì´ˆ) âœ…
- í”„ë¡œë•íŠ¸ 100ê°œ: 2ë¶„ (clone 0ì´ˆ) âœ…âœ…
```

**ì¥ì :**
1. âœ… Clone ì‹œê°„ 100% ì œê±°
2. âœ… ë¬´í•œ í™•ì¥ ê°€ëŠ¥
3. âœ… í”„ë¡œë•íŠ¸ ë…ë¦½ì  ê´€ë¦¬
4. âœ… ê° í”„ë¡œë•íŠ¸ ìì²´ ì›Œí¬í”Œë¡œìš° ì»¤ìŠ¤í„°ë§ˆì´ì§•

---

## ë§ˆì´ê·¸ë ˆì´ì…˜ ë‹¨ê³„

### Step 1: unified-agent ì—…ë°ì´íŠ¸

#### 1.1. ìµœì‹  ì½”ë“œ ê°€ì ¸ì˜¤ê¸°

```bash
cd unified-agent
git pull origin main
```

#### 1.2. í™˜ê²½ë³€ìˆ˜ ì¶”ê°€

`.env` íŒŒì¼ì— ì¶”ê°€:

```bash
# GitHub Owner (username or organization)
GITHUB_OWNER=your_github_username

# v2.0 í™œì„±í™”
USE_DISPATCH_V2=true
```

#### 1.3. GitHub Secrets í™•ì¸

GitHub ì €ì¥ì†Œ ì„¤ì •ì—ì„œ ë‹¤ìŒ Secrets í™•ì¸:
- `ANTHROPIC_API_KEY`: Claude API í‚¤
- `GH_PAT`: Personal Access Token (repo + workflow ê¶Œí•œ)
- `GSC_CREDENTIALS`: Google Search Console ì¸ì¦

---

### Step 2: í”„ë¡œë•íŠ¸ ì›Œí¬í”Œë¡œìš° ì¶”ê°€

ê° í”„ë¡œë•íŠ¸(qr-generator, convert-image ë“±)ì— ë‹¤ìŒ íŒŒì¼ ì¶”ê°€:

#### 2.1. ì›Œí¬í”Œë¡œìš° íŒŒì¼ ìƒì„±

**íŒŒì¼**: `.github/workflows/seo-pr.yml`

```yaml
name: SEO Improvements - Auto PR

on:
  repository_dispatch:
    types: [seo-improvements]

jobs:
  apply-seo-improvements:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      with:
        token: ${{ secrets.GITHUB_TOKEN }}

    - name: Set up Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.11'

    - name: Install dependencies
      run: |
        pip install beautifulsoup4 lxml

    - name: Display received actions
      run: |
        echo "ğŸ“¦ Received SEO improvements from unified-agent"
        echo "Number of actions: $(echo '${{ toJson(github.event.client_payload.actions) }}' | jq 'length')"

    - name: Apply SEO actions
      id: apply_actions
      env:
        ACTIONS_JSON: ${{ toJson(github.event.client_payload.actions) }}
      run: |
        python scripts/apply_seo_actions.py

    - name: Check for changes
      id: check_changes
      run: |
        if [[ -n $(git status --porcelain) ]]; then
          echo "has_changes=true" >> $GITHUB_OUTPUT
          echo "âœ… íŒŒì¼ ë³€ê²½ì‚¬í•­ ë°œê²¬"
        else
          echo "has_changes=false" >> $GITHUB_OUTPUT
          echo "âš ï¸  ë³€ê²½ì‚¬í•­ ì—†ìŒ"
        fi

    - name: Create Pull Request
      if: steps.check_changes.outputs.has_changes == 'true'
      env:
        GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      run: |
        git config user.name "SEO Agent Bot"
        git config user.email "seo-agent@users.noreply.github.com"

        TIMESTAMP=$(date +%Y%m%d-%H%M%S)
        BRANCH_NAME="seo/improvements-${TIMESTAMP}"
        git checkout -b "$BRANCH_NAME"

        git add .
        COMMIT_MSG="ğŸ¤– [SEO Agent] Apply SEO improvements

Generated by unified-agent on $(date +%Y-%m-%d)

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>"
        git commit -m "$COMMIT_MSG"

        git push -u origin "$BRANCH_NAME"

        PR_BODY="## ğŸ¤– SEO Agent - Automated Improvements

**Product**: \`${GITHUB_REPOSITORY##*/}\`
**Timestamp**: $(date +%Y-%m-%d\ %H:%M:%S)

## ğŸ“‹ Applied Actions

$(cat /tmp/applied_actions.md 2>/dev/null || echo "See commit for details")

## âœ… Test Checklist

- [ ] ë©”íƒ€ íƒœê·¸ í™•ì¸
- [ ] í˜ì´ì§€ ë Œë”ë§ ì •ìƒ í™•ì¸
- [ ] ë¹Œë“œ í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] Lighthouse SEO ì ìˆ˜ í™•ì¸

---

*Generated by [Unified Agent](https://github.com/${{ github.repository_owner }}/unified-agent) ğŸš€*"

        gh pr create \
          --title "ğŸ” [SEO Agent] Auto improvements - $(date +%Y-%m-%d)" \
          --body "$PR_BODY" \
          --base main \
          --head "$BRANCH_NAME" \
          --label "seo,automated"

    - name: Summary
      if: always()
      run: |
        if [ "${{ steps.check_changes.outputs.has_changes }}" = "true" ]; then
          echo "âœ… SEO ê°œì„  ì‚¬í•­ì´ ì ìš©ë˜ê³  PRì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤."
        else
          echo "â„¹ï¸  ì ìš©í•  SEO ê°œì„  ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤."
        fi
```

#### 2.2. Python ìŠ¤í¬ë¦½íŠ¸ ìƒì„±

**íŒŒì¼**: `scripts/apply_seo_actions.py`

ì „ì²´ ì½”ë“œëŠ” [qr-generator/scripts/apply_seo_actions.py](../../qr-generator/scripts/apply_seo_actions.py) ì°¸ê³ .

**í•µì‹¬ ê¸°ëŠ¥**:
- í™˜ê²½ë³€ìˆ˜ì—ì„œ `ACTIONS_JSON` íŒŒì‹±
- `update_meta_title`, `update_meta_description` ì•¡ì…˜ ì²˜ë¦¬
- TSX/HTML íŒŒì¼ ìë™ ìˆ˜ì •
- ê²°ê³¼ë¥¼ `/tmp/applied_actions.md`ì— ì €ì¥

#### 2.3. Git commit & push

```bash
cd qr-generator
git add .github/workflows/seo-pr.yml scripts/apply_seo_actions.py
git commit -m "feat: Add SEO Agent v2.0 workflow

- Add repository_dispatch workflow
- Add action applicator script
- Support v2.0 architecture"
git push origin main
```

**convert-imageë„ ë™ì¼í•˜ê²Œ ë°˜ë³µ**

---

### Step 3: unified-agent ì›Œí¬í”Œë¡œìš° ì „í™˜

#### 3.1. v2.0 ì›Œí¬í”Œë¡œìš° í™œì„±í™”

**ì˜µì…˜ A: í™˜ê²½ë³€ìˆ˜ë¡œ í™œì„±í™” (ì¶”ì²œ)**

`.github/workflows/seo-agent.yml`ì—ì„œ:

```yaml
env:
  USE_DISPATCH_V2: 'true'  # v1.0: 'false', v2.0: 'true'
```

**ì˜µì…˜ B: ìƒˆ ì›Œí¬í”Œë¡œìš° íŒŒì¼ ì‚¬ìš©**

`.github/workflows/seo-agent-v2.yml` ì‚¬ìš©í•˜ê³  ê¸°ì¡´ `seo-agent.yml` ë¹„í™œì„±í™”:

```yaml
# seo-agent.yml
on:
  # schedule ì£¼ì„ ì²˜ë¦¬
  # - cron: '0 0 * * 1'

  workflow_dispatch:  # ìˆ˜ë™ ì‹¤í–‰ë§Œ í—ˆìš©
```

---

## í…ŒìŠ¤íŠ¸ ë°©ë²•

### ë¡œì»¬ í…ŒìŠ¤íŠ¸

#### 1. unified-agent v2.0 ì‹¤í–‰

```bash
cd unified-agent

# í™˜ê²½ë³€ìˆ˜ ì„¤ì •
export USE_DISPATCH_V2=true
export ENABLE_AUTO_PR=true
export GITHUB_OWNER=your_username

# ì‹¤í–‰
python main.py
```

**ì˜ˆìƒ ì¶œë ¥**:
```
ğŸ¤– Level 2 Agent v2.0 - Repository Dispatch ì‹œì‘
ğŸ“¡ v2.0 ëª¨ë“œ: Repository Dispatch ì´ë²¤íŠ¸ ì „ì†¡

âœ… Level 2 Agent v2.0 ì‹¤í–‰ ì™„ë£Œ!
   ì¶”ì¶œëœ ì•¡ì…˜: 5ê°œ
   ì•ˆì „í•œ ì•¡ì…˜: 4ê°œ
   Dispatch ì „ì†¡: 2ê°œ í”„ë¡œë•íŠ¸

ğŸ“¡ Dispatch ê²°ê³¼:
   âœ… qr-generator
   âœ… convert-image

ğŸ’¡ ê° í”„ë¡œë•íŠ¸ì˜ ì›Œí¬í”Œë¡œìš°ì—ì„œ PRì´ ìƒì„±ë©ë‹ˆë‹¤.
```

#### 2. í”„ë¡œë•íŠ¸ ì›Œí¬í”Œë¡œìš° í™•ì¸

GitHub Actions íƒ­ì—ì„œ í™•ì¸:
- `https://github.com/your_username/qr-generator/actions`
- `https://github.com/your_username/convert-image/actions`

**ì˜ˆìƒ ê²°ê³¼**:
- "SEO Improvements - Auto PR" ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ë¨
- PR ìë™ ìƒì„±ë¨

---

### GitHub Actions í…ŒìŠ¤íŠ¸

#### 1. ìˆ˜ë™ ì‹¤í–‰ (Dry-run)

unified-agent GitHub Actions í˜ì´ì§€ì—ì„œ:
1. "SEO Agent - Automated Analysis & PR" ì„ íƒ
2. "Run workflow" í´ë¦­
3. `dry_run: false` (ë˜ëŠ” v2.0 ëª¨ë“œ í™•ì¸)
4. "Run workflow" ì‹¤í–‰

#### 2. ë¡œê·¸ í™•ì¸

**unified-agent ë¡œê·¸**:
- Level 2 Agent v2.0 ì‹¤í–‰ í™•ì¸
- Dispatch ì´ë²¤íŠ¸ ì „ì†¡ í™•ì¸

**í”„ë¡œë•íŠ¸ ë¡œê·¸**:
- repository_dispatch ì´ë²¤íŠ¸ ìˆ˜ì‹  í™•ì¸
- íŒŒì¼ ìˆ˜ì • í™•ì¸
- PR ìƒì„± í™•ì¸

---

## ë¬¸ì œ í•´ê²°

### ë¬¸ì œ 1: Dispatch ì´ë²¤íŠ¸ê°€ ì „ì†¡ë˜ì§€ ì•ŠìŒ

**ì¦ìƒ**:
```
âœ… Level 2 Agent v2.0 ì‹¤í–‰ ì™„ë£Œ!
   Dispatch ì „ì†¡: 2ê°œ í”„ë¡œë•íŠ¸

ğŸ“¡ Dispatch ê²°ê³¼:
   âŒ qr-generator
   âŒ convert-image
```

**í•´ê²°**:
1. `GITHUB_TOKEN` ê¶Œí•œ í™•ì¸ (repo + workflow)
2. Personal Access Token ì‚¬ìš© (`GH_PAT`)
3. í”„ë¡œë•íŠ¸ ì €ì¥ì†Œ ì´ë¦„ í™•ì¸ (`config/products.yaml`)

### ë¬¸ì œ 2: í”„ë¡œë•íŠ¸ ì›Œí¬í”Œë¡œìš°ê°€ íŠ¸ë¦¬ê±°ë˜ì§€ ì•ŠìŒ

**ì¦ìƒ**: unified-agentëŠ” ì„±ê³µí–ˆì§€ë§Œ í”„ë¡œë•íŠ¸ì—ì„œ ì•„ë¬´ ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•ŠìŒ

**í•´ê²°**:
1. í”„ë¡œë•íŠ¸ ì›Œí¬í”Œë¡œìš° íŒŒì¼ í™•ì¸ (`.github/workflows/seo-pr.yml`)
2. `on.repository_dispatch.types` í™•ì¸ (`seo-improvements`)
3. GitHub Actions í™œì„±í™” í™•ì¸

### ë¬¸ì œ 3: Python ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì‹¤íŒ¨

**ì¦ìƒ**:
```
âŒ ACTIONS_JSON í™˜ê²½ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
```

**í•´ê²°**:
ì›Œí¬í”Œë¡œìš°ì—ì„œ `ACTIONS_JSON` ì „ë‹¬ í™•ì¸:
```yaml
env:
  ACTIONS_JSON: ${{ toJson(github.event.client_payload.actions) }}
```

### ë¬¸ì œ 4: PR ìƒì„± ì‹¤íŒ¨

**ì¦ìƒ**:
```
gh: command not found
```

**í•´ê²°**:
GitHub CLIëŠ” ubuntu-latestì— ê¸°ë³¸ ì„¤ì¹˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤. í† í° ê¶Œí•œ í™•ì¸:
```yaml
env:
  GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```

---

## ë¡¤ë°± ë°©ë²•

v2.0ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•˜ë©´ v1.0ìœ¼ë¡œ ë¡¤ë°± ê°€ëŠ¥:

### 1. unified-agent ë¡¤ë°±

**í™˜ê²½ë³€ìˆ˜ ë³€ê²½**:
```bash
# .env ë˜ëŠ” GitHub Actions
USE_DISPATCH_V2=false  # v1.0ìœ¼ë¡œ ë³µê·€
```

**ë˜ëŠ” ì›Œí¬í”Œë¡œìš° ë³€ê²½**:
```yaml
# .github/workflows/seo-agent.yml
env:
  USE_DISPATCH_V2: 'false'
```

### 2. v1.0 ë™ì‘ í™•ì¸

```bash
# ë¡œì»¬ í…ŒìŠ¤íŠ¸
cd unified-agent
export USE_DISPATCH_V2=false
export ENABLE_AUTO_PR=true
python main.py
```

**ì˜ˆìƒ ì¶œë ¥**:
```
ğŸ¤– Level 2 Agent v1.0 - ìë™ PR ìƒì„± ì‹œì‘
ğŸ”§ v1.0 ëª¨ë“œ: ì§ì ‘ íŒŒì¼ ìˆ˜ì • ë° PR ìƒì„±
...
```

### 3. í”„ë¡œë•íŠ¸ ì›Œí¬í”Œë¡œìš°

v2.0 ì›Œí¬í”Œë¡œìš°ëŠ” ê·¸ëŒ€ë¡œ ë‘¬ë„ ë¬´ë°©í•©ë‹ˆë‹¤ (íŠ¸ë¦¬ê±°ë˜ì§€ ì•ŠìŒ).

---

## ì¶”ê°€ ë¦¬ì†ŒìŠ¤

- **Phase 1 ì™„ë£Œ ë¬¸ì„œ**: [docs/PHASE1_COMPLETION.md](./PHASE1_COMPLETION.md)
- **Phase 2 ì™„ë£Œ ë¬¸ì„œ**: [docs/PHASE2_COMPLETION.md](./PHASE2_COMPLETION.md)
- **ì•„í‚¤í…ì²˜ ê²°ì • ê¸°ë¡**: [docs/ARCHITECTURE_DECISIONS.md](./ARCHITECTURE_DECISIONS.md)
- **ë³€ê²½ ì´ë ¥**: [CHANGELOG.md](../CHANGELOG.md)

---

## ìš”ì•½

| ë‹¨ê³„ | ì‘ì—… | ì†Œìš” ì‹œê°„ |
|------|------|----------|
| 1 | unified-agent í™˜ê²½ë³€ìˆ˜ ì¶”ê°€ | 1ë¶„ |
| 2 | í”„ë¡œë•íŠ¸ ì›Œí¬í”Œë¡œìš° ì¶”ê°€ (ê°ê°) | 5ë¶„ |
| 3 | í…ŒìŠ¤íŠ¸ ë° ê²€ì¦ | 10ë¶„ |
| **ì´** | | **~30ë¶„** |

**ë§ˆì´ê·¸ë ˆì´ì…˜ í›„**:
- âœ… Clone ì‹œê°„ 100% ì œê±°
- âœ… ë¬´í•œ í™•ì¥ ê°€ëŠ¥
- âœ… í”„ë¡œë•íŠ¸ ë…ë¦½ì  ê´€ë¦¬
- âœ… ì™„ì „ ìë™í™”

**ë¬¸ì˜**:
- GitHub Issues: https://github.com/your_username/unified-agent/issues
